
<!DOCTYPE html>
<html lang="en">
<head>
    <title> App Monitor</title
    <link rel="icon" href="./static/monitoring_title.jpeg" type="image/x-icon">>
    <meta http-equiv="refresh" content="160" />
</head>
<body>
    <h1><img src="./static/SSC_Logo.png" alt="SSC Logo" width="200px" height="100"/>Testing CIO Cloud Apps</h1>
    
    <table id="server-status-table" style="border-collapse: collapse;">
        <tr>
            <th style="border: 1px solid black; padding: 5px; cursor: pointer;">URL</th>
            <th style="border: 1px solid black; padding: 5px;text-align:center;">Status</th>
            <th style="border: 1px solid black; padding: 5px;text-align:center;">Status Code</th>
            <th style="border: 1px solid black; padding: 5px;text-align:center;">Last Tested</th>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://archer-prod.ssc-spc.gc.ca'>Archer Prod</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:47</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://archer-dev.ssc-spc.gc.ca/RSAarcher'>Archer Dev</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:47</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://sscpp-ppspc.crm3.dynamics.com/'>CIO CIRA</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:47</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://plus.ssc-spc.gc.ca/en'>MySSC+</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:48</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://sscp2pspc.ssc-spc.gc.ca/'>P2P Prod</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:49</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://preprod-sscp2pspc.ssc-spc.gc.ca/page.aspx/fr/usr/login?ReturnUrl=%2fpage.aspx%2fen%2fbuy%2fhomepage'>P2P PreProd</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:49</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://Atip.ssc-spc.gc.ca/atipxpress'>ATIP</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:49</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://atippal.ssc-spc.gc.ca'>ATIPPAL</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:49</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://atip-uat.ssc-spc.gc.ca/atipxpress'>ATIP UAT</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'>
                <img src="./static/red_light.jpg" alt="Red Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>Timeout</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:54</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://atippal-uat.ssc-spc.gc.ca'>ATIPPAL UAT</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:54</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://bpc-pac.ssc-spc.gc.ca/'>FME-BPC</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:55</td>
        </tr>

        <tr>
            <td style='border: 1px solid black; padding: 5px; width: 60%;'><a href='https://esp-pse.ssc-spc.gc.ca/'>ESP</a></td>
            <td style='border: 1px solid black; padding: 5px; background-color:white; color:black;text-align:center;'> <img src="./static/green_light.jpg" alt="Green Light" width="20px"/>
                </td>
            <td style='border: 1px solid black; padding: 5px; text-align:center;'>200</td><td style='border: 1px solid black; padding: 5px;'>2025-03-12 09:29:55</td>
        </tr>
  </table>
    <button id="testButton">Test Now</button>

    <script>
        document.getElementById("testButton").addEventListener("click", function() {
            document.getElementById("testButton").disabled = true;

            var xhr = new XMLHttpRequest();
            xhr.open("GET", "/update", true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    document.documentElement.innerHTML = xhr.responseText;

                    setTimeout(function() {
                        document.getElementById("testButton").disabled = false;
                    }, 60000);
                }
            };
            xhr.send();
        });

        setInterval(function() {
            location.reload();
        }, 180000);
    </script>
</body>
</html>
    